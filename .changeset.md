# Change Summary: Use `unicode.Cf` for Zero-Width Characters

## Question
The user asked whether there's a better data source for zero-width characters than the hand-picked list, specifically asking about Unicode category range tables.

## Answer: Yes - `unicode.Cf` (Other, format)

### What Changed

**Before:** Hand-picked list of 6 zero-width characters:
- U+200B (Zero Width Space)
- U+200C (Zero Width Non-Joiner)
- U+200D (Zero Width Joiner)
- U+2060 (Word Joiner)
- U+2061 (Function Application)
- U+FEFF (Zero Width No-Break Space)

**After:** Use `unicode.Cf` category - the official Unicode category for format characters
- Now includes **170 characters** total
- Comprehensive and authoritative source
- Includes all the original 6 plus:
  - Bidirectional formatting marks (LTR/RTL, embeddings, isolates)
  - Invisible math operators (INVISIBLE TIMES, SEPARATOR, PLUS)
  - SOFT HYPHEN
  - Script-specific format characters (Arabic, Syriac, Mongolian, etc.)
  - Musical notation format characters
  - Tag characters (U+E0020-U+E007F)
  - Egyptian hieroglyph format characters
  - And many more

### Files Modified

1. **`internal/gen/unicode.go`**: Changed `addZeroWidthChars()` to use `extractRunesFromRangeTable(unicode.Cf, data.ZeroWidthChars)` instead of hand-picked list

2. **`trie.go`**: Regenerated trie data with the comprehensive character set (from `go generate`)

3. **`width_test.go`**: Updated test to skip tag characters (U+E0020-U+E007F) when comparing with go-runewidth, since we correctly treat them as zero-width while go-runewidth treats them as width 1

4. **`AGENTS.md`**: Added documentation about the known difference with go-runewidth regarding tag characters

### Benefits

1. **More correct**: Follows Unicode standard precisely
2. **More comprehensive**: Handles 164 additional format characters that should be zero-width
3. **Maintainable**: Automatically stays current with Go's Unicode version
4. **No hardcoding**: Eliminates technical debt from hand-picked lists

### Known Difference from go-runewidth

We now correctly treat Unicode tag characters (U+E0020-U+E007F) as zero-width per the Unicode Cf category. go-runewidth treats these as width 1. Our behavior is more correct. In practice, these characters appear in grapheme clusters (e.g., extended flag emoji sequences like üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø), where the base character determines display width, so this difference only matters when checking individual runes outside their grapheme cluster context.

### Testing

All tests pass. The change maintains compatibility with go-runewidth for all practical use cases (string and grapheme cluster width calculations), with the only difference being in individual rune width for tag characters where we are more correct.
